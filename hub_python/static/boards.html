<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>KBU hub | ê²Œì‹œíŒ</title>
  <link rel="icon" href="logo.png">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="nav.css">
  <link rel="stylesheet" href="boards.css">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: { peach: '#FFC8B2', peachDeep: '#FF9F80', cream: '#FFF7F2', cocoa:'#6B7280', ink:'#1F2937', mint:'#B7F4E6', lemon:'#FFF3A3' },
          boxShadow: { soft:'0 10px 30px rgba(255,159,128,.18)', glow:'0 0 0 0 rgba(255,159,128,.0)', card:'0 10px 24px rgba(17,24,39,.08)' },
          borderRadius: { bubble:'999px', xl2:'1.25rem' }
        }
      }
    }
  </script>
  <style>
    html, body { 
      font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', sans-serif; 
      font-feature-settings: "liga" 1, "kern" 1;
      text-rendering: optimizeLegibility;
    }
    .top-grad{ background: radial-gradient(60% 60% at 0% 0%, #FFF0E7 0%, rgba(255,240,231,0) 60%), radial-gradient(60% 60% at 100% 0%, #FFE7DB 0%, rgba(255,231,219,0) 60%); }
    .glass{ background: rgba(255,255,255,.7); backdrop-filter: blur(10px); }
    /* ë„¤ë¹„ê²Œì´ì…˜ ìŠ¤íƒ€ì¼ì€ nav.css (CSS Cascade Layers)ì—ì„œ ê´€ë¦¬ */
    
    /* í—¤ë” ìŠ¤íƒ€ì¼ì€ navigation.cssì—ì„œ ê´€ë¦¬ */
    
    /* ì´ëª¨í‹°ì½˜ ì§€ì›ì„ ìœ„í•œ í°íŠ¸ ì„¤ì • */
    .department-icon {
      font-family: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", "Segoe UI Symbol", "Android Emoji", "EmojiSymbols", sans-serif;
      font-variant-emoji: emoji;
    }
    
    /* í†µì¼ëœ Footer ìŠ¤íƒ€ì¼ */
    footer {
        border-top: 1px solid rgba(255, 200, 178, 0.5);
        margin-top: 0;
        padding: 0;
    }
    
    footer > div {
        max-width: 72rem;
        margin: 0 auto;
        padding: 1.5rem 1rem;
        font-size: 0.875rem;
        line-height: 1.25rem;
        color: #6B7280;
        text-align: center;
    }
  </style>
</head>
<body class="bg-cream">
  <div class="top-grad h-[160px] w-full absolute inset-0 -z-10 pointer-events-none"></div>
  <header class="fixed top-0 left-0 right-0 z-50 glass border-b border-peach/40">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center gap-4">
      <a href="index.html" class="flex items-center gap-2 font-extrabold text-lg">
        <img src="logo.png" alt="KBU hub" class="w-9 h-9 rounded-full shadow-[0_8px_18px_rgba(255,159,128,.25)]">
        <span>hub</span>
      </a>
      <nav class="ml-auto hidden md:flex">
        <div id="navPill" class="nav-pill">
          <!-- ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œì€ navigation.jsì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>
      </nav>
      <button id="menuBtn" class="md:hidden ml-auto p-2 rounded-full border border-peach/60">â˜°</button>
    </div>
    <div id="mobileNav" class="hidden md:hidden px-4 pb-3 border-t border-peach/40 bg-white/70">
      <div class="flex flex-col gap-1 py-2 text-sm">
        <!-- ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œì€ navigation.jsì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
      </div>
    </div>
  </header>

  <main class="boards-container" style="margin-top: 80px;">
        <div class="boards-layout">
      <!-- ì¢Œì¸¡ ì‚¬ì´ë“œë°” -->
      <aside class="sidebar">
        <!-- í•™ê³¼ë³„ ê²Œì‹œíŒ íŠ¸ë¦¬ -->
        <div class="sidebar-section">
          <div class="department-tree" id="departmentTree">
            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
          </div>
                </div>
            </aside>

      <!-- ë©”ì¸ ì»¨í…ì¸  -->
      <div class="main-content">
        <!-- ìƒë‹¨ íˆ´ë°” -->
        <div class="toolbar">
          <div class="toolbar-top">
            <div class="search-section">
              <div class="search-input">
                <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <input type="text" id="searchInput" placeholder="ì œëª©/íƒœê·¸ ê²€ìƒ‰" />
              </div>
              <select class="sort-select" id="sortSelect">
                <option value="latest">ìµœì‹ ìˆœ</option>
                <option value="popular">ì¶”ì²œìˆœ</option>
                <option value="views">ì¡°íšŒìˆœ</option>
              </select>
                    </div>
            <button class="write-btn" onclick="showWriteModal()">
              <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
              </svg>
              ê¸€ì“°ê¸°
            </button>
                        </div>
                    </div>

        <!-- ê²Œì‹œê¸€ ëª©ë¡ -->
        <div class="posts-list" id="postsList">
          <!-- ê²Œì‹œê¸€ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>

        <!-- ê²Œì‹œê¸€ ìƒì„¸ í™”ë©´ -->
        <div class="post-detail-view" id="postDetailView" style="display: none;">
          <!-- ìƒì„¸ í™”ë©´ ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>

        <!-- ë¡œë”© ìƒíƒœ -->
        <div class="loading" id="loadingState" style="display: none;">
          <div class="spinner"></div>
        </div>

        <!-- ë¹ˆ ìƒíƒœ -->
        <div class="empty-state" id="emptyState" style="display: none;">
          <div class="empty-state-icon">ğŸ“</div>
          <h3>ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤</h3>
          <p>ì²« ë²ˆì§¸ ê²Œì‹œê¸€ì„ ì‘ì„±í•´ë³´ì„¸ìš”!</p>
                        </div>
                    </div>
                </div>
  </main>

  <!-- ê¸€ì“°ê¸° ëª¨ë‹¬ -->
  <div id="writeModal" class="modal" style="display: none;">
    <div class="modal-content write-modal">
      <div class="modal-header">
        <h2>ê¸€ì“°ê¸°</h2>
        <button class="modal-close" onclick="hideWriteModal()">&times;</button>
      </div>
      
      <form id="writeForm" onsubmit="submitPost(event)">
        <div class="form-group">
          <input type="text" id="postTitle" name="title" placeholder="ì œëª©" required />
        </div>
        
        <div class="form-row">
          <select id="postType" name="type">
            <option value="question">ì§ˆë¬¸</option>
            <option value="share">ì •ë³´</option>
            <option value="discussion">í† ë¡ </option>
          </select>
          
          <label class="anonymous-toggle">
            <input type="checkbox" id="postAnonymous" name="anonymous" />
            <span class="toggle-switch"></span>
            ìµëª…
          </label>
        </div>
        
        <div class="form-group">
          <textarea id="postContent" name="content" placeholder="@ì„ ë°°A ì²˜ëŸ¼ ë©˜ì…˜í•˜ê³ , #ì·¨ì—… ì²˜ëŸ¼ íƒœê·¸ë¥¼ ë‚¨ê²¨ë³´ì„¸ìš”." rows="12" required></textarea>
        </div>
        
        <div class="form-group">
          <input type="text" id="tagInput" placeholder="#íƒœê·¸ ì…ë ¥ í›„ Enter" />
          <div class="tags-container" id="tagsContainer"></div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn-secondary">ì„ì‹œì €ì¥</button>
          <button type="submit" class="btn-primary">ë“±ë¡</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ëŒ“ê¸€ ëª¨ë‹¬ -->
  <div id="commentModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ëŒ“ê¸€</h2>
        <button class="modal-close" onclick="hideCommentModal()">&times;</button>
      </div>
      <div class="comment-section">
        <div class="comments-list" id="commentsList"></div>
        <form id="commentForm" class="comment-form">
          <input type="text" id="commentInput" placeholder="@ë©˜ì…˜, #íƒœê·¸ì™€ í•¨ê»˜ ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”" />
          <label class="anonymous-toggle">
            <input type="checkbox" id="commentAnonymous" />
            <span class="toggle-switch"></span>
            ìµëª…
          </label>
          <button type="submit" class="reply-btn">
            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
            </svg>
            ì „ì†¡
          </button>
        </form>
      </div>
    </div>
  </div>

  <footer>
    <div>
      Â© <span id="year"></span> KBU hub Â· All rights reserved.
    </div>
  </footer>

  <script src="boards.js"></script>
  <script src="navigation.js"></script>
</body>
</html>