<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>KBU hub | 홈</title>
  <link rel="icon" href="{{ url_for('static', filename='logo.png') }}">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: { peach: '#FFC8B2', peachDeep: '#FF9F80', cream: '#FFF7F2', cocoa:'#6B7280', ink:'#1F2937', mint:'#B7F4E6', lemon:'#FFF3A3' },
          boxShadow: { soft:'0 10px 30px rgba(255,159,128,.18)', glow:'0 0 0 0 rgba(255,159,128,.0)', card:'0 10px 24px rgba(17,24,39,.08)' },
          borderRadius: { bubble:'999px', xl2:'1.25rem' }
        }
      }
    }
  </script>
  <style>
    /* 협업자의 CSS 코드는 여기에 그대로 유지됩니다. */
    html, body { font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', sans-serif; }
    .top-grad{ background: radial-gradient(60% 60% at 0% 0%, #FFF0E7 0%, rgba(255,240,231,0) 60%), radial-gradient(60% 60% at 100% 0%, #FFE7DB 0%, rgba(255,231,219,0) 60%); }
    .glass{ background: rgba(255,255,255,.7); backdrop-filter: blur(10px); }
    /* ... (중간 CSS 생략) ... */
    @keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(255,159,128,.55)} 70%{box-shadow:0 0 0 16px rgba(255,159,128,0)} 100%{box-shadow:0 0 0 0 rgba(255,159,128,0)} }
  </style>
</head>
<body class="bg-cream text-ink">
  <div class="top-grad h-[160px] w-full absolute inset-0 -z-10 pointer-events-none"></div>

  <header class="sticky top-0 z-50 border-b border-peach/40 glass">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center gap-4">
      <a href="{{ url_for('main_page') }}" class="flex items-center gap-2 font-extrabold text-lg">
        <img src="{{ url_for('static', filename='logo.png') }}" alt="KBU hub" class="w-9 h-9 rounded-full shadow-[0_8px_18px_rgba(255,159,128,.25)]">
        <span>hub</span>
      </a>
      <nav class="ml-auto hidden md:flex">
        <div id="navPill" class="nav-pill">
          <a class="nav-item active" href="{{ url_for('main_page') }}">서비스 소개</a>
          <a class="nav-item" href="{{ url_for('chat_page') }}">랜덤 매칭</a>
          <a class="nav-item" href="{{ url_for('boards_page') }}">게시판</a>
          <a class="nav-item" href="{{ url_for('mypage_page') }}">마이페이지</a>
          
          {% if nickname %}
            <a class="nav-item" href="{{ url_for('logout') }}">로그아웃</a>
          {% else %}
            <a class="nav-item" href="{{ url_for('login_page') }}">로그인</a>
          {% endif %}
        </div>
      </nav>
      <button id="menuBtn" class="md:hidden ml-auto p-2 rounded-full border border-peach/60">☰</button>
    </div>
    <div id="mobileNav" class="hidden md:hidden px-4 pb-3 border-t border-peach/40 bg-white/70">
      <div class="flex flex-col gap-1 py-2 text-sm">
        <a class="py-2 active" href="{{ url_for('main_page') }}">서비스 소개</a>
        <a class="py-2" href="{{ url_for('chat_page') }}">랜덤 매칭</a>
        <a class="py-2" href="{{ url_for('boards_page') }}">게시판</a>
        <a class="py-2" href="{{ url_for('mypage_page') }}">마이페이지</a>
        {% if nickname %}
            <a class="py-2" href="{{ url_for('logout') }}">로그아웃</a>
        {% else %}
            <a class="py-2" href="{{ url_for('login_page') }}">로그인</a>
        {% endif %}
      </div>
    </div>
  </header>

  <section class="max-w-6xl mx-auto px-4 pt-8 pb-6 relative">
    <div class="text-xs text-cocoa mt-2">클릭할 때마다 🎲가 굴러가요!</div>
  </section>
  
  <section class="max-w-6xl mx-auto px-4 py-10">
    <div class="reveal rounded-xl2 border border-peach/60 bg-white p-6 md:p-8 text-center">
      <h3 class="text-2xl md:text-3xl font-extrabold">지금 합류하세요</h3>
      <p class="mt-2 text-cocoa">크림/피치 감성 + 플레이풀 인터랙션.</p>
      <div class="mt-6 flex justify-center gap-3">
        <a href="{{ url_for('signup_terms_page') }}" class="px-5 py-3 rounded-bubble bg-peachDeep text-white font-extrabold glow">회원가입 ✨</a>
        <a href="{{ url_for('main_page') }}" class="px-5 py-3 rounded-bubble border border-peach/70 hover:shadow-soft transition">서비스 소개</a>
      </div>
    </div>
  </section>

  <footer class="border-t border-peach/50">
      </footer>

  <script>
    // 협업자의 JavaScript 코드는 여기에 그대로 유지됩니다.
    document.addEventListener('DOMContentLoaded', function() {
      const menuBtn = document.getElementById('menuBtn');
      if (menuBtn) {
        menuBtn.addEventListener('click', ()=>{
          document.getElementById('mobileNav').classList.toggle('hidden');
        });
      }
      
      const year = document.getElementById('year');
      if (year) {
        year.textContent = new Date().getFullYear();
      }
      
      const io = new IntersectionObserver((ents)=>ents.forEach(e=>{ 
        if(e.isIntersecting) e.target.classList.add('reveal-on');
      }), {threshold:.15});
      document.querySelectorAll('.reveal').forEach(el=>io.observe(el));
      
      const die = document.getElementById('die');
      const diceBtn = document.getElementById('diceBtn');
      if (die && diceBtn) {
        function roll(){ 
          diceBtn.classList.add('shake'); 
          let n=1; 
          const timer=setInterval(()=>{ 
            n = 1 + Math.floor(Math.random()*6); 
            die.textContent=n; 
          }, 60); 
          setTimeout(()=>{ 
            clearInterval(timer); 
            diceBtn.classList.remove('shake'); 
            // ✅ [수정됨] 주사위 클릭 시 이동할 링크 수정
            window.location.href = "{{ url_for('chat_page') }}"; 
          }, 700); 
        }
        diceBtn.addEventListener('click', roll);
      }
    });
  </script>
</body>
</html>